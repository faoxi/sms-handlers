# Реализация механизма смс обработчиков

### Использование обработчиков:
* пользователь получает обработчик следующим образом:
```python
sms_traffic_handler = sms_handlers.get_handler('sms_traffic')
```
* eсли такого обработчика нет, то будет брошено исключение `ThereIsNoSuchHandlerException`;
* далее пользователь может отправлять сообщения с параметрами `phone` и `message`;
* пример отправки сообщения:
```python
sms_traffic_handler.send(phone='1235', message='adasd')
```
* пользователь не знает, как отправляются сообщения: `json`, `xml` или что-то еще. У него есть только `phone` и `message`.

### Особенности реализации обработчиков:
* в качестве базы был выбран паттерн `Абстрактная Фабрика`;
* пользователь может взаимодействовать с обрабочиками с помощью функции `sms_handlers.get_handler`;
* в качестве базового класса выступает `AbstractHandler`, который задает интерфейс реализации;
* от базового класса наследуется `JsonHandler`, который задает интерфейс для работы с смс сервисами в формате `json`;
* далее уже идет реализация обработчиков конкретных сервисов;
* так как сервисы sms-цент и sms-траффик имеют один формат, его реализация скрыта в классе `SpecialHandler`;
* данная реализация позволяет легко создавать новые обработчики, спускаясь только на нужный уровень абстракции; 
* например, если появится новый сервис с таким же форматом, как было указано выше, то для создания нового обработчика будет достаточно просто указать нужный `url`:
```python
class NewSpecialHandler(SpecialHandler):
    """
    Sms center
    """
    url = 'http://somethingspecial.ru/some­api/message/'
```
* если появится соврешенно иной сервис с смс-общениями, например, по средствам `xml`, то всегда можно будет легко сделать нужную прослойку по определенным заранее заданным правилам;
* благодаря этому у пользователя никогда не будет необходимости знать особенности реализации какого-нибудь отдельного обработчика.
